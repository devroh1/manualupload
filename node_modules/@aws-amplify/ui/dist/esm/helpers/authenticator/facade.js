import{__assign as e}from"../../node_modules/tslib/tslib.es6.js";import{getActorState as t,getActorContext as r}from"./actor.js";var n=function(e){var t=function(t){return function(r){return e({type:t,data:r})}};return{resendCode:t("RESEND"),signOut:t("SIGN_OUT"),submitForm:t("SUBMIT"),updateForm:t("CHANGE"),updateBlur:t("BLUR"),toFederatedSignIn:t("FEDERATED_SIGN_IN"),toResetPassword:t("RESET_PASSWORD"),toSignIn:t("SIGN_IN"),toSignUp:t("SIGN_UP"),skipVerification:t("SKIP")}},s=function(n){var s,i,a=null===(s=n.context)||void 0===s?void 0:s.user,u=t(n),o=r(n),c=null==o?void 0:o.remoteError,d=e({},null==o?void 0:o.validationError),l=null==o?void 0:o.codeDeliveryDetails,m=Object.keys(d).length>0,f=n.hasTag("pending")||(null===(i=t(n))||void 0===i?void 0:i.hasTag("pending")),v=function(){switch(!0){case n.matches("idle"):return"idle";case n.matches("setup"):return"setup";case n.matches("signOut"):return"signOut";case n.matches("authenticated"):return"authenticated";case null==u?void 0:u.matches("autoSignIn"):return"autoSignIn";case null==u?void 0:u.matches("confirmSignUp"):return"confirmSignUp";case null==u?void 0:u.matches("confirmSignIn"):return"confirmSignIn";case null==u?void 0:u.matches("setupTOTP"):return"setupTOTP";case null==u?void 0:u.matches("signIn"):return"signIn";case null==u?void 0:u.matches("signUp"):return"signUp";case null==u?void 0:u.matches("forceNewPassword"):return"forceNewPassword";case null==u?void 0:u.matches("resetPassword"):return"resetPassword";case null==u?void 0:u.matches("confirmResetPassword"):return"confirmResetPassword";case null==u?void 0:u.matches("verifyUser"):return"verifyUser";case null==u?void 0:u.matches("confirmVerifyUser"):return"confirmVerifyUser";default:return console.debug("Cannot infer `route` from Authenticator state:",n.value),null}}(),h=function(e){switch(e){case"idle":case"setup":return"configuring";case"authenticated":return"authenticated";default:return"unauthenticated"}}(v);return{error:c,hasValidationErrors:m,isPending:f,route:v,authStatus:h,user:a,validationErrors:d,codeDeliveryDetails:l}},i=function(t){var r=t.send,i=t.state,a=n(r),u=s(i);return e(e({},a),u)};export{n as getSendEventAliases,s as getServiceContextFacade,i as getServiceFacade};
