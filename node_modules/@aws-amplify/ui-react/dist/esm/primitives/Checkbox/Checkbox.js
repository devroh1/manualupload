import{__rest as e}from"../../node_modules/tslib/tslib.es6.js";import{jsxs as s,jsx as a}from"react/jsx-runtime";import*as o from"react";import t from"classnames";import{classNameModifierByFlag as d}from"../shared/utils.js";import{ComponentClassNames as c}from"../shared/constants.js";import{Flex as i}from"../Flex/Flex.js";import"../View/View.js";import{IconCheck as r}from"../Icon/icons/IconCheck.js";import{Input as l}from"../Input/Input.js";import{splitPrimitiveProps as n}from"../shared/styleUtils.js";import{Text as b}from"../Text/Text.js";import{useCheckbox as h}from"./useCheckbox.js";import{VisuallyHidden as m}from"../VisuallyHidden/VisuallyHidden.js";import{getTestId as k}from"../utils/testUtils.js";const u=o.forwardRef(((u,C)=>{var{checked:p,className:f,defaultChecked:x,hasError:j,isDisabled:I,label:g,labelHidden:y,labelPosition:N,onChange:B,size:F,testId:H}=u,V=e(u,["checked","className","defaultChecked","hasError","isDisabled","label","labelHidden","labelPosition","onChange","size","testId"]);const{baseStyleProps:D,flexContainerStyleProps:O,rest:P}=n(V),v=void 0!==p?p:x,{dataChecked:w,dataFocus:z,onBlur:E,onChange:L,onFocus:S,setDataChecked:T}=h(v,B);o.useEffect((()=>{void 0!==p&&p!==w&&T(p)}),[p,w,T]);const U=k(H,c.CheckboxButton),R=k(H,c.CheckboxIcon),_=k(H,c.CheckboxLabel),q=t(c.CheckboxButton,d(c.CheckboxButton,"disabled",I),d(c.CheckboxButton,"error",j),d(c.CheckboxButton,"focused",z)),A=t(c.CheckboxIcon,d(c.CheckboxIcon,"checked",w),d(c.CheckboxIcon,"disabled",I));return s(i,Object.assign({as:"label",className:t(c.Checkbox,d(c.Checkbox,"disabled",I),f),"data-disabled":I,"data-label-position":N,testId:H},D,O,{children:[a(m,{children:a(l,Object.assign({checked:p,className:c.CheckboxInput,defaultChecked:x,isDisabled:I,onBlur:E,onChange:L,onFocus:S,ref:C,type:"checkbox"},P))}),g&&a(b,Object.assign({as:"span",className:t(c.CheckboxLabel,{[c.VisuallyHidden]:y}),"data-disabled":I,testId:_},{children:g})),a(i,Object.assign({"aria-hidden":"true",as:"span",className:q,"data-checked":w,"data-disabled":I,"data-focus":z,"data-error":j,testId:U},{children:a(r,{className:A,"data-checked":w,"data-disabled":I,"data-testid":R,size:F})}))]}))}));u.displayName="Checkbox";export{u as Checkbox};
