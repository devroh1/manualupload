import{__rest as e}from"../../node_modules/tslib/tslib.es6.js";import{jsx as r,jsxs as i}from"react/jsx-runtime";import l from"classnames";import{Root as a,Track as t,Range as s,Thumb as o}from"@radix-ui/react-slider";import*as d from"react";import{isFunction as n,classNameModifier as m}from"../shared/utils.js";import{ComponentClassNames as c}from"../shared/constants.js";import"../Field/FieldClearButton.js";import{FieldDescription as u}from"../Field/FieldDescription.js";import{FieldErrorMessage as p}from"../Field/FieldErrorMessage.js";import{FieldGroup as b}from"../FieldGroup/FieldGroup.js";import{Flex as f}from"../Flex/Flex.js";import{Label as g}from"../Label/Label.js";import{splitPrimitiveProps as S}from"../shared/styleUtils.js";import{View as F}from"../View/View.js";import{useStableId as h}from"../utils/useStableId.js";const C="slider-label",j="slider-root",k="slider-track",v="slider-range",y=d.forwardRef(((C,j)=>{var{ariaValuetext:k,className:v,defaultValue:y,descriptiveText:x,emptyTrackColor:T,errorMessage:V,filledTrackColor:N,formatValue:E,hasError:O=!1,id:z,isDisabled:H,isValueHidden:R=!1,label:I,labelHidden:M=!1,onChange:w,orientation:D="horizontal",outerEndComponent:G,outerStartComponent:L,testId:P,thumbColor:B,trackSize:U,dir:_,value:q,size:A}=C,J=e(C,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","dir","value","size"]);const K=h(z),Q=h(),W=h(),X=x?W:void 0,{flexContainerStyleProps:Y,baseStyleProps:Z,rest:$}=S(J),ee=void 0!==q,[re,ie]=d.useState(ee?q:y),le=ee?[q]:void 0,ae=ee?void 0:[y],te=d.useCallback((e=>{ie(e[0]),n(w)&&w(e[0])}),[w]),se=d.useMemo((()=>{const e=n(E)?E(re):re;return"string"==typeof E?r(F,Object.assign({as:"span"},{children:e})):e}),[re,E]),oe="vertical"===D,de=l(c.SliderFieldTrack,m(c.SliderFieldTrack,D),m(c.SliderFieldTrack,A)),ne=l(c.SliderFieldRoot,m(c.SliderFieldRoot,D),m(c.SliderFieldRoot,A),v);return i(f,Object.assign({className:l(c.Field,c.SliderField),testId:P,"data-size":A},Z,Y,{children:[i(g,Object.assign({className:c.SliderFieldLabel,id:Q,testId:"slider-label",visuallyHidden:M},{children:[r(F,Object.assign({as:"span"},{children:I})),R?null:se]})),r(u,{id:W,labelHidden:M,descriptiveText:x}),r(b,Object.assign({className:c.SliderFieldGroup,id:K,orientation:D,outerStartComponent:L,outerEndComponent:G},{children:i(a,Object.assign({className:ne,"data-testid":"slider-root",disabled:H,defaultValue:ae,onValueChange:te,orientation:D,ref:j,value:le},$,{children:[r(t,Object.assign({className:de,"data-testid":"slider-track",style:{backgroundColor:String(T),[""+(oe?"width":"height")]:U}},{children:r(s,{className:l(c.SliderFieldRange,m(c.SliderFieldRange,D)),"data-testid":"slider-range",style:{backgroundColor:String(N)}})})),r(o,{"aria-describedby":X,"aria-labelledby":Q,"aria-valuetext":k,className:l(c.SliderFieldThumb,m(c.SliderFieldThumb,A)),style:{backgroundColor:String(B)}})]}))})),r(p,{hasError:O,errorMessage:V})]}))}));y.displayName="SliderField";export{C as SLIDER_LABEL_TEST_ID,v as SLIDER_RANGE_TEST_ID,j as SLIDER_ROOT_TEST_ID,k as SLIDER_TRACK_TEST_ID,y as SliderField};
