import{__rest as e}from"../../node_modules/tslib/tslib.es6.js";import{jsxs as i,jsx as t}from"react/jsx-runtime";import*as r from"react";import s from"classnames";import{useStepper as a}from"./useStepper.js";import"../Field/FieldClearButton.js";import{FieldDescription as o}from"../Field/FieldDescription.js";import{FieldErrorMessage as l}from"../Field/FieldErrorMessage.js";import{FieldGroup as n}from"../FieldGroup/FieldGroup.js";import"../FieldGroupIcon/FieldGroupIcon.js";import{FieldGroupIconButton as d}from"../FieldGroupIcon/FieldGroupIconButton.js";import{Flex as p}from"../Flex/Flex.js";import{IconAdd as c}from"../Icon/icons/IconAdd.js";import{ComponentClassNames as m,ComponentText as u}from"../shared/constants.js";import"../View/View.js";import{IconRemove as b}from"../Icon/icons/IconRemove.js";import{Input as h}from"../Input/Input.js";import{Label as f}from"../Label/Label.js";import{classNameModifier as F,classNameModifierByFlag as j}from"../shared/utils.js";import{splitPrimitiveProps as g}from"../shared/styleUtils.js";import{useStableId as I}from"../utils/useStableId.js";const B="decrease-icon",S="increase-icon",v=r.forwardRef(((B,S)=>{const{className:v,descriptiveText:D,defaultValue:O,errorMessage:y,hasError:C=!1,id:L,isDisabled:x,isReadOnly:R,isRequired:E,increaseButtonLabel:N=u.StepperField.increaseButtonLabel,decreaseButtonLabel:w=u.StepperField.decreaseButtonLabel,label:z,labelHidden:G=!1,onStepChange:V,size:H,variation:M,testId:$,bottom:q,height:T,left:k,padding:P,position:W,right:A,top:U,width:_,value:J}=B,K=e(B,["className","descriptiveText","defaultValue","errorMessage","hasError","id","isDisabled","isReadOnly","isRequired","increaseButtonLabel","decreaseButtonLabel","label","labelHidden","onStepChange","size","variation","testId","bottom","height","left","padding","position","right","top","width","value"]),Q=I(L),X=I(),Y=D?X:void 0,{baseStyleProps:Z,flexContainerStyleProps:ee,rest:ie}=g(K),{step:te,value:re,inputValue:se,handleDecrease:ae,handleIncrease:oe,handleOnBlur:le,handleOnChange:ne,handleOnWheel:de,setInputValue:pe,shouldDisableDecreaseButton:ce,shouldDisableIncreaseButton:me}=a(B);return r.useEffect((()=>{void 0!==J&&pe(J)}),[J,pe]),i(p,Object.assign({className:s(m.Field,F(m.Field,H),m.StepperField,v),"data-size":H,"data-variation":M,testId:$,width:_,height:T,position:W,padding:P,top:U,right:A,left:k,bottom:q},ee,{children:[t(f,Object.assign({htmlFor:Q,visuallyHidden:G},{children:z})),t(o,{id:X,labelHidden:G,descriptiveText:D}),t(n,Object.assign({outerStartComponent:t(d,Object.assign({"aria-controls":Q,ariaLabel:`${w} ${re-te}`,className:s(m.StepperFieldButtonDecrease,F(m.StepperFieldButtonDecrease,M),j(m.StepperFieldButtonDecrease,"disabled",ce)),"data-invalid":C,isDisabled:ce,onClick:ae,size:H},{children:t(b,{"data-testid":"decrease-icon"})})),outerEndComponent:t(d,Object.assign({"aria-controls":Q,ariaLabel:`${N} ${re+te}`,className:s(m.StepperFieldButtonIncrease,F(m.StepperFieldButtonIncrease,M),j(m.StepperFieldButtonIncrease,"disabled",me)),"data-invalid":C,isDisabled:me,onClick:oe,size:H},{children:t(c,{"data-testid":"increase-icon"})}))},{children:t(h,Object.assign({"aria-describedby":Y,className:m.StepperFieldInput,hasError:C,id:Q,isDisabled:x,isReadOnly:R,isRequired:E,onBlur:le,onChange:ne,onWheel:de,ref:S,size:H,variation:M,type:"number",value:se},Z,ie))})),t(l,{hasError:C,errorMessage:y})]}))}));v.displayName="StepperField";export{B as DECREASE_ICON,S as INCREASE_ICON,v as StepperField};
